---
page_title: "mist_device_gateway_cluster Resource - terraform-provider-mist"
subcategory: "Devices"
description: |-
  This resource can be used to form or delete a Gateway Clusters.
  A Gateway Cluster can be formed with two Gateways assigned to the same site. Once the Cluster is formed, it can be configured just like a Gateway with the mist_device_gateway resource:
  Claim the gateways and assign them to the same site with the mist_org_inventory resourceForm the Cluster with the mist_device_gateway_cluster resource by providing the site_id and the MAC Addresses of two nodes (the first in the list will be the node0)Configure the Cluster with the mist_device_gateway resource
  Please check the SRX Juniper Documentation https://www.juniper.net/documentation/us/en/software/mist/mist-wan/topics/topic-map/srx-high-availability-configuration.htmlor the SSR Juniper Documentation https://www.juniper.net/documentation/us/en/software/mist/mist-wan/topics/topic-map/ssr-high-availability-configuration.html first to validate the cabling between the Gateways
  ~> Both gateways must belong to the same site when creating the Gateway Cluster
---

# mist_device_gateway_cluster (Resource)

This resource can be used to form or delete a Gateway Clusters.

A Gateway Cluster can be formed with two Gateways assigned to the same site. Once the Cluster is formed, it can be configured just like a Gateway with the `mist_device_gateway` resource:
1. Claim the gateways and assign them to the same site with the `mist_org_inventory` resource
2. Form the Cluster with the `mist_device_gateway_cluster` resource by providing the `site_id` and the MAC Addresses of two nodes (the first in the list will be the node0)
3. Configure the Cluster with the `mist_device_gateway` resource

Please check the [SRX Juniper Documentation](https://www.juniper.net/documentation/us/en/software/mist/mist-wan/topics/topic-map/srx-high-availability-configuration.html)or the [SSR Juniper Documentation](https://www.juniper.net/documentation/us/en/software/mist/mist-wan/topics/topic-map/ssr-high-availability-configuration.html) first to validate the cabling between the Gateways

~> Both gateways must belong to the same site when creating the Gateway Cluster


## Example Usage

```terraform
resource "mist_device_gateway_cluster" "cluster_one" {
  site_id   = mist_site.terraform_site2.id
  nodes = [
    { mac = "4c961000000" },
    { mac = "4c961000001" }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `nodes` (Attributes List) when replacing a node, either mac has to remain the same as existing cluster (see [below for nested schema](#nestedatt--nodes))
- `site_id` (String)

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedatt--nodes"></a>
### Nested Schema for `nodes`

Required:

- `mac` (String) Gateway MAC Address. Format is `[0-9a-f]{12}` (e.g "5684dae9ac8b")



## Import
Using `terraform import`, import `mist_device_gateway_cluster` with:
```shell
# Gateway cluster can be imported by specifying the org_id and the cluster_id
terraform import mist_device_gateway_cluster.cluster_one 17b46405-3a6d-4715-8bb4-6bb6d06f316a.d3c42998-9012-4859-9743-6b9bee475309
```