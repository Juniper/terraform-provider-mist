---
page_title: "mist_org_apitoken Resource - terraform-provider-mist"
subcategory: "Org"
description: |-
  This resource manages Org API Tokens.
  An Org API token is a unique identifier used by an application to authenticate and access the Mist APIs. These tokens are used to authenticate requests made to the API server and ensure secure access to the API. They are not bound to any specific user and provide access to the organization as a whole.
  Organization tokens support different privileges and can only be used for the specific organization they are generated for.
  Rate limiting is done on an individual token basis, so if one token reaches its rate limit, it does not impact other tokens.
---

# mist_org_apitoken (Resource)

This resource manages Org API Tokens.

An Org API token is a unique identifier used by an application to authenticate and access the Mist APIs. These tokens are used to authenticate requests made to the API server and ensure secure access to the API. They are not bound to any specific user and provide access to the organization as a whole. 
Organization tokens support different privileges and can only be used for the specific organization they are generated for.
Rate limiting is done on an individual token basis, so if one token reaches its rate limit, it does not impact other tokens.


## Example Usage

```terraform
resource "mist_org_apitoken" "apitoken_one" {
  org_id = mist_org.terraform_test.id
  name   = "apitoken_one"
  privileges = [
    {
      scope   = "site"
      role    = "admin"
      site_id = "d7c8364e-xxxx-xxxx-xxxx-37eff0475b03"
    },
    {
      scope   = "site"
      role    = "read"
      site_id = "08f8851b-xxxx-xxxx-xxxx-9ebb5aa62de4"
    }
  ]
  src_ips = [ "1.2.3.4/32" ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the token
- `org_id` (String)
- `privileges` (Attributes List) List of privileges the token has on the orgs/sites (see [below for nested schema](#nestedatt--privileges))

### Optional

- `src_ips` (List of String) List of allowed IP addresses from where the token can be used from. At most 10 IP addresses can be specified, cannot be changed once the API Token is created.

### Read-Only

- `created_by` (String) email of the token creator / null if creator is deleted
- `id` (String) Unique ID of the object instance in the Mist Organization
- `key` (String, Sensitive)

<a id="nestedatt--privileges"></a>
### Nested Schema for `privileges`

Required:

- `role` (String) access permissions. enum: `admin`, `helpdesk`, `installer`, `read`, `write`
- `scope` (String) enum: `org`, `site`, `sitegroup`

Optional:

- `site_id` (String) Required if `scope`==`site`
- `sitegroup_id` (String) Required if `scope`==`sitegroup`
- `views` (List of String) Custom roles restrict Org users to specific UI views. This is useful for limiting UI access of Org users. Custom roles restrict Org users to specific UI views. This is useful for limiting UI access of Org users.  
You can define custom roles by adding the `views` attribute along with `role` when assigning privileges.  
Below are the list of supported UI views. Note that this is UI only feature.  

  | UI View | Required Role | Description |
  | --- | --- | --- |
  | `reporting` | `read` | full access to all analytics tools |
  | `marketing` | `read` | can view analytics and location maps |
  | `super_observer` | `read` | can view all the organization except the subscription page |
  | `location` | `write` | can view and manage location maps, can view analytics |
  | `security` | `write` | can view and manage site labels, policies and security |
  | `switch_admin` | `helpdesk` | can view and manage Switch ports, can view wired clients |
  | `mxedge_admin` | `admin` | can view and manage Mist edges and Mist tunnels |
  | `lobby_admin` | `admin` | full access to Org and Site Pre-shared keys |


