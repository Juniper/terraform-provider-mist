---
page_title: "mist_org_deviceprofile_ap Resource - terraform-provider-mist"
subcategory: "Wi-Fi Assurance"
description: |-
  This resource manages the AP Device Profiles.
  AP Device profiles for aps are used to specify a configuration that can be applied to a select set of aps from any site in the organization. They allow for efficient application of configurations based on ap groups, wlan groups, RF settings, and sites. Device profiles enable various use cases such as activating ethernet passthrough, applying different rf settings, applying mesh configuration, activating specific features like esl or vble, and more.
  The AP Device Profile can be assigned to a gateway with the mist_org_deviceprofile_assign resource.
---

# mist_org_deviceprofile_ap (Resource)

This resource manages the AP Device Profiles.
AP Device profiles for aps are used to specify a configuration that can be applied to a select set of aps from any site in the organization. They allow for efficient application of configurations based on ap groups, wlan groups, RF settings, and sites. Device profiles enable various use cases such as activating ethernet passthrough, applying different rf settings, applying mesh configuration, activating specific features like esl or vble, and more.

The AP Device Profile can be assigned to a gateway with the `mist_org_deviceprofile_assign` resource.


## Example Usage

```terraform
resource "mist_org_deviceprofile_ap" "deviceprofile_ap_one" {
  name   = "deviceprofile_ap_one"
  org_id = mist_org.terraform_test.id
  esl_config = {
    enabled = true
    host    = "1.2.3.4"
    type    = "native"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String)
- `org_id` (String)

### Optional

- `aeroscout` (Attributes) Aeroscout AP settings (see [below for nested schema](#nestedatt--aeroscout))
- `airista` (Attributes) (see [below for nested schema](#nestedatt--airista))
- `ble_config` (Attributes) BLE AP settings (see [below for nested schema](#nestedatt--ble_config))
- `disable_eth1` (Boolean) Whether to disable eth1 port
- `disable_eth2` (Boolean) Whether to disable eth2 port
- `disable_eth3` (Boolean) Whether to disable eth3 port
- `disable_module` (Boolean) Whether to disable module port
- `esl_config` (Attributes) (see [below for nested schema](#nestedatt--esl_config))
- `ip_config` (Attributes) IP AP settings (see [below for nested schema](#nestedatt--ip_config))
- `lacp_config` (Attributes) (see [below for nested schema](#nestedatt--lacp_config))
- `led` (Attributes) LED AP settings (see [below for nested schema](#nestedatt--led))
- `mesh` (Attributes) Mesh AP settings (see [below for nested schema](#nestedatt--mesh))
- `ntp_servers` (List of String)
- `poe_passthrough` (Boolean) Whether to enable power out through module port (for APH) or eth1 (for APL/BT11)
- `port_config` (Attributes Map) eth0 is not allowed here. Property key is the interface(s) name (e.g. `eth1` or `eth1,eth2`). If specified, this takes precedence over switch_config (deprecated) (see [below for nested schema](#nestedatt--port_config))
- `pwr_config` (Attributes) Power related configs (see [below for nested schema](#nestedatt--pwr_config))
- `radio_config` (Attributes) Radio AP settings (see [below for nested schema](#nestedatt--radio_config))
- `site_id` (String)
- `uplink_port_config` (Attributes) AP Uplink port configuration (see [below for nested schema](#nestedatt--uplink_port_config))
- `usb_config` (Attributes) USB AP settings
  - Note: if native imagotag is enabled, BLE will be disabled automatically
  - Note: legacy, new config moved to ESL Config. (see [below for nested schema](#nestedatt--usb_config))
- `vars` (Map of String) Dictionary of name->value, the vars can then be used in Wlans. This can overwrite those from Site Vars

### Read-Only

- `id` (String) Unique ID of the object instance in the Mist Organization
- `type` (String) Device Type. enum: `ap`

<a id="nestedatt--aeroscout"></a>
### Nested Schema for `aeroscout`

Optional:

- `enabled` (Boolean) Whether to enable aeroscout config
- `host` (String) Required if enabled, aeroscout server host
- `locate_connected` (Boolean) Whether to enable the feature to allow wireless clients data received and sent to AES server for location calculation
- `port` (Number)


<a id="nestedatt--airista"></a>
### Nested Schema for `airista`

Optional:

- `enabled` (Boolean) Whether to enable Airista config
- `host` (String) Required if enabled, Airista server host
- `port` (Number)


<a id="nestedatt--ble_config"></a>
### Nested Schema for `ble_config`

Optional:

- `beacon_enabled` (Boolean) Whether Mist beacons is enabled
- `beacon_rate` (Number) Required if `beacon_rate_mode`==`custom`, 1-10, in number-beacons-per-second
- `beacon_rate_mode` (String) enum: `custom`, `default`
- `beam_disabled` (List of Number) List of AP BLE location beam numbers (1-8) which should be disabled at the AP and not transmit location information (where beam 1 is oriented at the top the AP, growing counter-clock-wise, with 9 being the omni BLE beam)
- `custom_ble_packet_enabled` (Boolean) Can be enabled if `beacon_enabled`==`true`, whether to send custom packet
- `custom_ble_packet_frame` (String) The custom frame to be sent out in this beacon. The frame must be a hexstring
- `custom_ble_packet_freq_msec` (Number) Frequency (msec) of data emitted by custom ble beacon
- `eddystone_uid_adv_power` (Number) Advertised TX Power, -100 to 20 (dBm), omit this attribute to use default
- `eddystone_uid_beams` (String)
- `eddystone_uid_enabled` (Boolean) Only if `beacon_enabled`==`false`, Whether Eddystone-UID beacon is enabled
- `eddystone_uid_freq_msec` (Number) Frequency (msec) of data emit by Eddystone-UID beacon
- `eddystone_uid_instance` (String) Eddystone-UID instance for the device
- `eddystone_uid_namespace` (String) Eddystone-UID namespace
- `eddystone_url_adv_power` (Number) Advertised TX Power, -100 to 20 (dBm), omit this attribute to use default
- `eddystone_url_beams` (String)
- `eddystone_url_enabled` (Boolean) Only if `beacon_enabled`==`false`, Whether Eddystone-URL beacon is enabled
- `eddystone_url_freq_msec` (Number) Frequency (msec) of data emit by Eddystone-UID beacon
- `eddystone_url_url` (String) URL pointed by Eddystone-URL beacon
- `ibeacon_adv_power` (Number) Advertised TX Power, -100 to 20 (dBm), omit this attribute to use default
- `ibeacon_beams` (String)
- `ibeacon_enabled` (Boolean) Can be enabled if `beacon_enabled`==`true`, whether to send iBeacon
- `ibeacon_freq_msec` (Number) Frequency (msec) of data emit for iBeacon
- `ibeacon_major` (Number) Major number for iBeacon
- `ibeacon_minor` (Number) Minor number for iBeacon
- `ibeacon_uuid` (String) Optional, if not specified, the same UUID as the beacon will be used
- `power` (Number) Required if `power_mode`==`custom`; else use `power_mode` as default
- `power_mode` (String) enum: `custom`, `default`


<a id="nestedatt--esl_config"></a>
### Nested Schema for `esl_config`

Optional:

- `cacert` (String) Only if `type`==`imagotag` or `type`==`native`
- `channel` (Number) Only if `type`==`imagotag` or `type`==`native`
- `enabled` (Boolean) usb_config is ignored if esl_config enabled
- `host` (String) Only if `type`==`imagotag` or `type`==`native`
- `port` (Number) Only if `type`==`imagotag` or `type`==`native`
- `type` (String) note: ble_config will be ignored if esl_config is enabled and with native mode. enum: `hanshow`, `imagotag`, `native`, `solum`
- `verify_cert` (Boolean) Only if `type`==`imagotag` or `type`==`native`
- `vlan_id` (Number) Only if `type`==`solum` or `type`==`hanshow`


<a id="nestedatt--ip_config"></a>
### Nested Schema for `ip_config`

Optional:

- `dns` (List of String) If `type`==`static`
- `dns_suffix` (List of String) Required if `type`==`static`
- `gateway` (String) Required if `type`==`static`
- `gateway6` (String)
- `ip` (String) Required if `type`==`static`
- `ip6` (String)
- `mtu` (Number)
- `netmask` (String) Required if `type`==`static`
- `netmask6` (String)
- `type` (String) enum: `dhcp`, `static`
- `type6` (String) enum: `autoconf`, `dhcp`, `disabled`, `static`
- `vlan_id` (Number) Management VLAN id, default is 1 (untagged)


<a id="nestedatt--lacp_config"></a>
### Nested Schema for `lacp_config`

Optional:

- `enabled` (Boolean)


<a id="nestedatt--led"></a>
### Nested Schema for `led`

Optional:

- `brightness` (Number)
- `enabled` (Boolean)


<a id="nestedatt--mesh"></a>
### Nested Schema for `mesh`

Optional:

- `bands` (List of String) List of bands that the mesh should apply to. For relay, the first viable one will be picked. For relay, the first viable one will be picked. enum: `24`, `5`, `6`
- `enabled` (Boolean) Whether mesh is enabled on this AP
- `group` (Number) Mesh group, base AP(s) will only allow remote AP(s) in the same mesh group to join, 1-9, optional
- `role` (String) enum: `base`, `remote`


<a id="nestedatt--port_config"></a>
### Nested Schema for `port_config`

Optional:

- `disabled` (Boolean)
- `dynamic_vlan` (Attributes) Optional dynamic vlan (see [below for nested schema](#nestedatt--port_config--dynamic_vlan))
- `enable_mac_auth` (Boolean)
- `forwarding` (String) enum: 
  * `all`: local breakout, All VLANs
  * `limited`: local breakout, only the VLANs configured in `port_vlan_id` and `vlan_ids`
  * `mxtunnel`: central breakout to an Org Mist Edge (requires `mxtunnel_id`)
  * `site_mxedge`: central breakout to a Site Mist Edge (requires `mxtunnel_name`)
  * `wxtunnel`': central breakout to an Org WxTunnel (requires `wxtunnel_id`)
- `mac_auth_preferred` (Boolean) When `true`, we'll do dot1x then mac_auth. enable this to prefer mac_auth
- `mac_auth_protocol` (String) if `enable_mac_auth`==`true`, allows user to select an authentication protocol. enum: `eap-md5`, `eap-peap`, `pap`
- `mist_nac` (Attributes) (see [below for nested schema](#nestedatt--port_config--mist_nac))
- `mx_tunnel_id` (String) If `forwarding`==`mxtunnel`, vlan_ids comes from mxtunnel
- `mxtunnel_name` (String) If `forwarding`==`site_mxedge`, vlan_ids comes from site_mxedge (`mxtunnels` under site setting)
- `port_auth` (String) When doing port auth. enum: `dot1x`, `none`
- `port_vlan_id` (Number) If `forwarding`==`limited`
- `radius_config` (Attributes) Junos Radius config (see [below for nested schema](#nestedatt--port_config--radius_config))
- `radsec` (Attributes) RadSec settings (see [below for nested schema](#nestedatt--port_config--radsec))
- `vlan_id` (Number) Optional to specify the vlan id for a tunnel if forwarding is for `wxtunnel`, `mxtunnel` or `site_mxedge`.
  * if vlan_id is not specified then it will use first one in vlan_ids[] of the mxtunnel.
  * if forwarding == site_mxedge, vlan_ids comes from site_mxedge (`mxtunnels` under site setting)
- `vlan_ids` (List of Number) If `forwarding`==`limited`
- `wxtunnel_id` (String) If `forwarding`==`wxtunnel`, the port is bridged to the vlan of the session
- `wxtunnel_remote_id` (String) If `forwarding`==`wxtunnel`, the port is bridged to the vlan of the session

<a id="nestedatt--port_config--dynamic_vlan"></a>
### Nested Schema for `port_config.dynamic_vlan`

Optional:

- `default_vlan_id` (Number)
- `enabled` (Boolean)
- `type` (String)
- `vlans` (Map of String)


<a id="nestedatt--port_config--mist_nac"></a>
### Nested Schema for `port_config.mist_nac`

Optional:

- `acct_interim_interval` (Number) How frequently should interim accounting be reported, 60-65535. default is 0 (use one specified in Access-Accept request from Server). Very frequent messages can affect the performance of the radius server, 600 and up is recommended when enabled.
- `auth_servers_retries` (Number) Radius auth session retries. Following fast timers are set if `fast_dot1x_timers` knob is enabled. "retries" are set to value of `auth_servers_timeout`. "max-requests" is also set when setting `auth_servers_retries` is set to default value to 3.
- `auth_servers_timeout` (Number) Radius auth session timeout. Following fast timers are set if `fast_dot1x_timers` knob is enabled. "quite-period" and "transmit-period" are set to half the value of `auth_servers_timeout`. "supplicant-timeout" is also set when setting `auth_servers_timeout` is set to default value of 10.
- `coa_enabled` (Boolean) Allows a RADIUS server to dynamically modify the authorization status of a user session.
- `coa_port` (Number) the communication port used for “Change of Authorization” (CoA) messages
- `enabled` (Boolean) When enabled:
  * `auth_servers` is ignored
  * `acct_servers` is ignored
  * `auth_servers_*` are ignored
  * `coa_servers` is ignored
  * `radsec` is ignored
  * `coa_enabled` is assumed
- `fast_dot1x_timers` (Boolean) If set to true, sets default fast-timers with values calculated from `auth_servers_timeout` and `auth_server_retries`.
- `network` (String) Which network the mist nac server resides in
- `source_ip` (String) In case there is a static IP for this network, we can specify it using source ip


<a id="nestedatt--port_config--radius_config"></a>
### Nested Schema for `port_config.radius_config`

Optional:

- `acct_interim_interval` (Number) How frequently should interim accounting be reported, 60-65535. default is 0 (use one specified in Access-Accept request from RADIUS Server). Very frequent messages can affect the performance of the radius server, 600 and up is recommended when enabled
- `acct_servers` (Attributes List) (see [below for nested schema](#nestedatt--port_config--radius_config--acct_servers))
- `auth_servers` (Attributes List) (see [below for nested schema](#nestedatt--port_config--radius_config--auth_servers))
- `auth_servers_retries` (Number) radius auth session retries
- `auth_servers_timeout` (Number) radius auth session timeout
- `coa_enabled` (Boolean)
- `coa_port` (Number)
- `network` (String) use `network`or `source_ip`, which network the RADIUS server resides, if there's static IP for this network, we'd use it as source-ip
- `source_ip` (String) use `network`or `source_ip`

<a id="nestedatt--port_config--radius_config--acct_servers"></a>
### Nested Schema for `port_config.radius_config.acct_servers`

Required:

- `host` (String) IP/ hostname of RADIUS server
- `secret` (String, Sensitive) Secret of RADIUS server

Optional:

- `keywrap_enabled` (Boolean)
- `keywrap_format` (String) enum: `ascii`, `hex`
- `keywrap_kek` (String)
- `keywrap_mack` (String)
- `port` (String)


<a id="nestedatt--port_config--radius_config--auth_servers"></a>
### Nested Schema for `port_config.radius_config.auth_servers`

Required:

- `host` (String) IP/ hostname of RADIUS server
- `secret` (String, Sensitive) Secret of RADIUS server

Optional:

- `keywrap_enabled` (Boolean)
- `keywrap_format` (String) enum: `ascii`, `hex`
- `keywrap_kek` (String)
- `keywrap_mack` (String)
- `port` (String)
- `require_message_authenticator` (Boolean) Whether to require Message-Authenticator in requests



<a id="nestedatt--port_config--radsec"></a>
### Nested Schema for `port_config.radsec`

Optional:

- `coa_enabled` (Boolean)
- `enabled` (Boolean)
- `idle_timeout` (String)
- `mxcluster_ids` (List of String) To use Org mxedges when this WLAN does not use mxtunnel, specify their mxcluster_ids. Org mxedge(s) identified by mxcluster_ids
- `proxy_hosts` (List of String) Default is site.mxedge.radsec.proxy_hosts which must be a superset of all `wlans[*].radsec.proxy_hosts`. When `radsec.proxy_hosts` are not used, tunnel peers (org or site mxedges) are used irrespective of `use_site_mxedge`
- `server_name` (String) Name of the server to verify (against the cacerts in Org Setting). Only if not Mist Edge.
- `servers` (Attributes List) List of RadSec Servers. Only if not Mist Edge. (see [below for nested schema](#nestedatt--port_config--radsec--servers))
- `use_mxedge` (Boolean) use mxedge(s) as RadSec Proxy
- `use_site_mxedge` (Boolean) To use Site mxedges when this WLAN does not use mxtunnel

<a id="nestedatt--port_config--radsec--servers"></a>
### Nested Schema for `port_config.radsec.servers`

Optional:

- `host` (String)
- `port` (Number)




<a id="nestedatt--pwr_config"></a>
### Nested Schema for `pwr_config`

Optional:

- `base` (Number) Additional power to request during negotiating with PSE over PoE, in mW
- `prefer_usb_over_wifi` (Boolean) Whether to enable power out to peripheral, meanwhile will reduce power to Wi-Fi (only for AP45 at power mode)


<a id="nestedatt--radio_config"></a>
### Nested Schema for `radio_config`

Optional:

- `allow_rrm_disable` (Boolean)
- `ant_gain_24` (Number) Antenna gain for 2.4G - for models with external antenna only
- `ant_gain_5` (Number) Antenna gain for 5G - for models with external antenna only
- `ant_gain_6` (Number) Antenna gain for 6G - for models with external antenna only
- `antenna_mode` (String) enum: `1x1`, `2x2`, `3x3`, `4x4`, `default`
- `band_24` (Attributes) Radio Band AP settings (see [below for nested schema](#nestedatt--radio_config--band_24))
- `band_24_usage` (String) enum: `24`, `5`, `6`, `auto`
- `band_5` (Attributes) Radio Band AP settings (see [below for nested schema](#nestedatt--radio_config--band_5))
- `band_5_on_24_radio` (Attributes) Radio Band AP settings (see [below for nested schema](#nestedatt--radio_config--band_5_on_24_radio))
- `band_6` (Attributes) Radio Band AP settings (see [below for nested schema](#nestedatt--radio_config--band_6))
- `full_automatic_rrm` (Boolean) Let RRM control everything, only the `channels` and `ant_gain` will be honored (i.e. disabled/bandwidth/power/band_24_usage are all controlled by RRM)
- `indoor_use` (Boolean) To make an outdoor operate indoor. For an outdoor-ap, some channels are disallowed by default, this allows the user to use it as an indoor-ap
- `scanning_enabled` (Boolean) Whether scanning radio is enabled

<a id="nestedatt--radio_config--band_24"></a>
### Nested Schema for `radio_config.band_24`

Optional:

- `allow_rrm_disable` (Boolean)
- `ant_gain` (Number)
- `antenna_mode` (String) enum: `1x1`, `2x2`, `3x3`, `4x4`, `default`
- `bandwidth` (Number) channel width for the 2.4GHz band. enum: `20`, `40`
- `channel` (Number) For Device. (primary) channel for the band, 0 means using the Site Setting
- `channels` (List of Number) For RFTemplates. List of channels, null or empty array means auto
- `disabled` (Boolean) Whether to disable the radio
- `power` (Number) TX power of the radio. For Devices, 0 means auto. -1 / -2 / -3 / …: treated as 0 / -1 / -2 / …
- `power_max` (Number) When power=0, max tx power to use, HW-specific values will be used if not set
- `power_min` (Number) When power=0, min tx power to use, HW-specific values will be used if not set
- `preamble` (String) enum: `auto`, `long`, `short`


<a id="nestedatt--radio_config--band_5"></a>
### Nested Schema for `radio_config.band_5`

Optional:

- `allow_rrm_disable` (Boolean)
- `ant_gain` (Number)
- `antenna_mode` (String) enum: `1x1`, `2x2`, `3x3`, `4x4`, `default`
- `bandwidth` (Number) channel width for the 5GHz band. enum: `20`, `40`, `80`
- `channel` (Number) For Device. (primary) channel for the band, 0 means using the Site Setting
- `channels` (List of Number) For RFTemplates. List of channels, null or empty array means auto
- `disabled` (Boolean) Whether to disable the radio
- `power` (Number) TX power of the radio. For Devices, 0 means auto. -1 / -2 / -3 / …: treated as 0 / -1 / -2 / …
- `power_max` (Number) When power=0, max tx power to use, HW-specific values will be used if not set
- `power_min` (Number) When power=0, min tx power to use, HW-specific values will be used if not set
- `preamble` (String) enum: `auto`, `long`, `short`


<a id="nestedatt--radio_config--band_5_on_24_radio"></a>
### Nested Schema for `radio_config.band_5_on_24_radio`

Optional:

- `allow_rrm_disable` (Boolean)
- `ant_gain` (Number)
- `antenna_mode` (String) enum: `1x1`, `2x2`, `3x3`, `4x4`, `default`
- `bandwidth` (Number) channel width for the 5GHz band. enum: `20`, `40`, `80`
- `channel` (Number) For Device. (primary) channel for the band, 0 means using the Site Setting
- `channels` (List of Number) For RFTemplates. List of channels, null or empty array means auto
- `disabled` (Boolean) Whether to disable the radio
- `power` (Number) TX power of the radio. For Devices, 0 means auto. -1 / -2 / -3 / …: treated as 0 / -1 / -2 / …
- `power_max` (Number) When power=0, max tx power to use, HW-specific values will be used if not set
- `power_min` (Number) When power=0, min tx power to use, HW-specific values will be used if not set
- `preamble` (String) enum: `auto`, `long`, `short`


<a id="nestedatt--radio_config--band_6"></a>
### Nested Schema for `radio_config.band_6`

Optional:

- `allow_rrm_disable` (Boolean)
- `ant_gain` (Number)
- `antenna_mode` (String) enum: `1x1`, `2x2`, `3x3`, `4x4`, `default`
- `bandwidth` (Number) channel width for the 6GHz band. enum: `20`, `40`, `80`, `160`
- `channel` (Number) For Device. (primary) channel for the band, 0 means using the Site Setting
- `channels` (List of Number) For RFTemplates. List of channels, null or empty array means auto
- `disabled` (Boolean) Whether to disable the radio
- `power` (Number) TX power of the radio. For Devices, 0 means auto. -1 / -2 / -3 / …: treated as 0 / -1 / -2 / …
- `power_max` (Number) When power=0, max tx power to use, HW-specific values will be used if not set
- `power_min` (Number) When power=0, min tx power to use, HW-specific values will be used if not set
- `preamble` (String) enum: `auto`, `long`, `short`
- `standard_power` (Boolean) For 6GHz Only, standard-power operation, AFC (Automatic Frequency Coordination) will be performed, and we'll fall back to Low Power Indoor if AFC failed



<a id="nestedatt--uplink_port_config"></a>
### Nested Schema for `uplink_port_config`

Optional:

- `dot1x` (Boolean) Whether to do 802.1x against uplink switch. When enabled, AP cert will be used to do EAP-TLS and the Org's CA Cert has to be provisioned at the switch
- `keep_wlans_up_if_down` (Boolean) By default, WLANs are disabled when uplink is down. In some scenario, like SiteSurvey, one would want the AP to keep sending beacons.


<a id="nestedatt--usb_config"></a>
### Nested Schema for `usb_config`

Optional:

- `cacert` (String) Only if `type`==`imagotag`
- `channel` (Number) Only if `type`==`imagotag`, channel selection, not needed by default, required for manual channel override only
- `enabled` (Boolean) Whether to enable any usb config
- `host` (String) Only if `type`==`imagotag`
- `port` (Number) Only if `type`==`imagotag`
- `type` (String) usb config type. enum: `hanshow`, `imagotag`, `solum`
- `verify_cert` (Boolean) Only if `type`==`imagotag`, whether to turn on SSL verification
- `vlan_id` (Number) Only if `type`==`solum` or `type`==`hanshow`



## Import
Using `terraform import`, import `mist_org_deviceprofile_ap` with:
```shell
# Device Profile can be imported by specifying the org_id and the deviceprofile_id
terraform import mist_org_deviceprofile_ap.deviceprofile_one 17b46405-3a6d-4715-8bb4-6bb6d06f316a.d3c42998-9012-4859-9743-6b9bee475309
```