---
page_title: "mist_org_deviceprofile_gateway Resource - terraform-provider-mist"
subcategory: "WAN Assurance"
description: |-
  This resource manages the Gateway Device Profiles (HUB Profiles).
  A HUB profile is a configuration profile that automates the creation of overlay networks and defines the attributes of a hub device in a network. It includes settings for wan interfaces, lan interfaces, dns servers, traffic steering preferences, application policies, and routing options. HUB profiles are used to create consistent configurations for hub devices and ensure efficient connectivity between hubs and spokes in a network.
  The Gateway Device Profile can be assigned to a gateway with the mist_org_deviceprofile_assign resource.
---

# mist_org_deviceprofile_gateway (Resource)

This resource manages the Gateway Device Profiles (HUB Profiles).

A HUB profile is a configuration profile that automates the creation of overlay networks and defines the attributes of a hub device in a network. It includes settings for wan interfaces, lan interfaces, dns servers, traffic steering preferences, application policies, and routing options. HUB profiles are used to create consistent configurations for hub devices and ensure efficient connectivity between hubs and spokes in a network.

The Gateway Device Profile can be assigned to a gateway with the `mist_org_deviceprofile_assign` resource.


## Example Usage

```terraform
resource "mist_org_deviceprofile_gateway" "deviceprofile_gw_one" {
  name   = "deviceprofile_gw_one"
  org_id = mist_org.terraform_test.id
  port_config = {
    "ge-0/0/3" = {
      name       = "FTTH"
      usage      = "wan"
      aggregated = false
      redundant  = false
      critical   = false
      wan_type   = "broadband"
      ip_config = {
        type    = "static"
        ip      = "192.168.1.8"
        netmask = "/24"
        gateway = "192.168.1.1"
      },
      disable_autoneg = false
      speed           = "auto"
      duplex          = "auto"
      wan_source_nat = {
        disabled = false
      },
      vpn_paths = {
        "SSR_HUB_DC-MPLS.OrgOverlay" = {
          key         = 0
          role        = "spoke"
          bfd_profile = "broadband"
        }
      }
    },
    "ge-0/0/5" = {
      usage            = "lan"
      critical         = false
      aggregated       = true
      ae_disable_lacp  = false
      ae_lacp_force_up = true
      ae_idx           = 0
      redundant        = false
      networks = [
        "PRD-Core",
        "PRD-Mgmt",
        "PRD-Lab"
      ]
    }
  }
  ip_configs = {
    "PRD-Core" = {
      type    = "static"
      ip      = "10.3.100.9"
      netmask = "/24"
    },
    "PRD-Mgmt" = {
      type    = "static"
      ip      = "10.3.172.1"
      netmask = "/24"
    },
    "PRD-Lab" = {
      type    = "static"
      ip      = "10.3.171.1"
      netmask = "/24"
    }
  }
  service_policies = [
    {
      name = "Policy-14"
      tenants = [
        "PRD-Core"
      ],
      services = [
        "any"
      ],
      action          = "allow"
      path_preference = "HUB"
      idp = {
        enabled    = true
        profile    = "critical"
        alert_only = false
      }
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String)
- `org_id` (String)

### Optional

- `additional_config_cmds` (List of String) additional CLI commands to append to the generated Junos config. **Note**: no check is done
- `bgp_config` (Attributes Map) (see [below for nested schema](#nestedatt--bgp_config))
- `dhcpd_config` (Attributes) (see [below for nested schema](#nestedatt--dhcpd_config))
- `dns_override` (Boolean)
- `dns_servers` (List of String) Global dns settings. To keep compatibility, dns settings in `ip_config` and `oob_ip_config` will overwrite this setting
- `dns_suffix` (List of String) Global dns settings. To keep compatibility, dns settings in `ip_config` and `oob_ip_config` will overwrite this setting
- `extra_routes` (Attributes Map) Property key is the destination CIDR (e.g. "10.0.0.0/8"), the destination Network name or a variable (e.g. "{{myvar}}") (see [below for nested schema](#nestedatt--extra_routes))
- `extra_routes6` (Attributes Map) Property key is the destination CIDR (e.g. "2a02:1234:420a:10c9::/64"), the destination Network name or a variable (e.g. "{{myvar}}") (see [below for nested schema](#nestedatt--extra_routes6))
- `idp_profiles` (Attributes Map) Property key is the profile name (see [below for nested schema](#nestedatt--idp_profiles))
- `ip_configs` (Attributes Map) Property key is the network name (see [below for nested schema](#nestedatt--ip_configs))
- `networks` (Attributes List) (see [below for nested schema](#nestedatt--networks))
- `ntp_override` (Boolean)
- `ntp_servers` (List of String) List of NTP servers specific to this device. By default, those in Site Settings will be used
- `oob_ip_config` (Attributes) Out-of-band (vme/em0/fxp0) IP config (see [below for nested schema](#nestedatt--oob_ip_config))
- `path_preferences` (Attributes Map) Property key is the path name (see [below for nested schema](#nestedatt--path_preferences))
- `port_config` (Attributes Map) Property key is the port(s) name or range (e.g. "ge-0/0/0-10") (see [below for nested schema](#nestedatt--port_config))
- `router_id` (String) Auto assigned if not set
- `routing_policies` (Attributes Map) Property key is the routing policy name (see [below for nested schema](#nestedatt--routing_policies))
- `service_policies` (Attributes List) (see [below for nested schema](#nestedatt--service_policies))
- `tunnel_configs` (Attributes Map) Property key is the tunnel name (see [below for nested schema](#nestedatt--tunnel_configs))
- `tunnel_provider_options` (Attributes) (see [below for nested schema](#nestedatt--tunnel_provider_options))
- `vrf_config` (Attributes) (see [below for nested schema](#nestedatt--vrf_config))
- `vrf_instances` (Attributes Map) Property key is the network name (see [below for nested schema](#nestedatt--vrf_instances))

### Read-Only

- `id` (String) Unique ID of the object instance in the Mist Organization
- `type` (String) Device Type. enum: `gateway`

<a id="nestedatt--bgp_config"></a>
### Nested Schema for `bgp_config`

Optional:

- `auth_key` (String)
- `bfd_minimum_interval` (Number) When bfd_multiplier is configured alone. Default:
  * 1000 if `type`==`external`
  * 350 `type`==`internal`
- `bfd_multiplier` (Number) When bfd_minimum_interval_is_configured alone
- `disable_bfd` (Boolean) BFD provides faster path failure detection and is enabled by default
- `export` (String)
- `export_policy` (String) Default export policies if no per-neighbor policies defined
- `extended_v4_nexthop` (Boolean) By default, either inet/net6 unicast depending on neighbor IP family (v4 or v6). For v6 neighbors, to exchange v4 nexthop, which allows dual-stack support, enable this
- `graceful_restart_time` (Number) `0` means disable
- `hold_time` (Number)
- `import` (String)
- `import_policy` (String) Default import policies if no per-neighbor policies defined
- `local_as` (String) Local AS. Value must be in range 1-4294967295 or a variable (e.g. `{{as_variable}}`)
- `neighbor_as` (String) Neighbor AS. Value must be in range 1-4294967295 or a variable (e.g. `{{as_variable}}`)
- `neighbors` (Attributes Map) If per-neighbor as is desired. Property key is the neighbor address (see [below for nested schema](#nestedatt--bgp_config--neighbors))
- `networks` (List of String) If `type`!=`external`or `via`==`wan`networks where we expect BGP neighbor to connect to/from
- `no_private_as` (Boolean)
- `no_readvertise_to_overlay` (Boolean) By default, we'll re-advertise all learned BGP routers toward overlay
- `tunnel_name` (String) If `type`==`tunnel`
- `type` (String) enum: `external`, `internal`
- `via` (String) network name. enum: `lan`, `tunnel`, `vpn`, `wan`
- `vpn_name` (String)
- `wan_name` (String) If `via`==`wan`

<a id="nestedatt--bgp_config--neighbors"></a>
### Nested Schema for `bgp_config.neighbors`

Optional:

- `disabled` (Boolean) If true, the BGP session to this neighbor will be administratively disabled/shutdown
- `export_policy` (String)
- `hold_time` (Number)
- `import_policy` (String)
- `multihop_ttl` (Number) Assuming BGP neighbor is directly connected
- `neighbor_as` (String) Neighbor AS. Value must be in range 1-4294967295 or a variable (e.g. `{{as_variable}}`)



<a id="nestedatt--dhcpd_config"></a>
### Nested Schema for `dhcpd_config`

Optional:

- `config` (Attributes Map) Property key is the network name (see [below for nested schema](#nestedatt--dhcpd_config--config))
- `enabled` (Boolean) If set to `false`, disable the DHCP server

<a id="nestedatt--dhcpd_config--config"></a>
### Nested Schema for `dhcpd_config.config`

Optional:

- `dns_servers` (List of String) If `type`==`local` or `type6`==`local` - optional, if not defined, system one will be used
- `dns_suffix` (List of String) If `type`==`local` or `type6`==`local` - optional, if not defined, system one will be used
- `fixed_bindings` (Attributes Map) If `type`==`local` or `type6`==`local`. Property key is the MAC Address. Format is `[0-9a-f]{12}` (e.g. "5684dae9ac8b") (see [below for nested schema](#nestedatt--dhcpd_config--config--fixed_bindings))
- `gateway` (String) If `type`==`local` - optional, `ip` will be used if not provided
- `ip_end` (String) If `type`==`local`
- `ip_end6` (String) If `type6`==`local`
- `ip_start` (String) If `type`==`local`
- `ip_start6` (String) If `type6`==`local`
- `lease_time` (Number) In seconds, lease time has to be between 3600 [1hr] - 604800 [1 week], default is 86400 [1 day]
- `options` (Attributes Map) If `type`==`local` or `type6`==`local`. Property key is the DHCP option number (see [below for nested schema](#nestedatt--dhcpd_config--config--options))
- `server_id_override` (Boolean) `server_id_override`==`true` means the device, when acts as DHCP relay and forwards DHCP responses from DHCP server to clients, 
should overwrite the Sever Identifier option (i.e. DHCP option 54) in DHCP responses with its own IP address.
- `servers` (List of String) If `type`==`relay`
- `servers6` (List of String) If `type6`==`relay`
- `type` (String) enum: `local` (DHCP Server), `none`, `relay` (DHCP Relay)
- `type6` (String) enum: `local` (DHCP Server), `none`, `relay` (DHCP Relay)
- `vendor_encapsulated` (Attributes Map) If `type`==`local` or `type6`==`local`. Property key is <enterprise number>:<sub option code>, with
  * enterprise number: 1-65535 (https://www.iana.org/assignments/enterprise-numbers/enterprise-numbers)
  * sub option code: 1-255, sub-option code (see [below for nested schema](#nestedatt--dhcpd_config--config--vendor_encapsulated))

<a id="nestedatt--dhcpd_config--config--fixed_bindings"></a>
### Nested Schema for `dhcpd_config.config.fixed_bindings`

Required:

- `ip` (String)

Optional:

- `name` (String)


<a id="nestedatt--dhcpd_config--config--options"></a>
### Nested Schema for `dhcpd_config.config.options`

Optional:

- `type` (String) enum: `boolean`, `hex`, `int16`, `int32`, `ip`, `string`, `uint16`, `uint32`
- `value` (String)


<a id="nestedatt--dhcpd_config--config--vendor_encapsulated"></a>
### Nested Schema for `dhcpd_config.config.vendor_encapsulated`

Optional:

- `type` (String) enum: `boolean`, `hex`, `int16`, `int32`, `ip`, `string`, `uint16`, `uint32`
- `value` (String)




<a id="nestedatt--extra_routes"></a>
### Nested Schema for `extra_routes`

Required:

- `via` (String)


<a id="nestedatt--extra_routes6"></a>
### Nested Schema for `extra_routes6`

Required:

- `via` (String)


<a id="nestedatt--idp_profiles"></a>
### Nested Schema for `idp_profiles`

Optional:

- `base_profile` (String) enum: `critical`, `standard`, `strict`
- `name` (String)
- `org_id` (String)
- `overwrites` (Attributes List) (see [below for nested schema](#nestedatt--idp_profiles--overwrites))

<a id="nestedatt--idp_profiles--overwrites"></a>
### Nested Schema for `idp_profiles.overwrites`

Optional:

- `action` (String) enum:
  * alert (default)
  * drop: silently dropping packets
  * close: notify client/server to close connection
- `matching` (Attributes) (see [below for nested schema](#nestedatt--idp_profiles--overwrites--matching))
- `name` (String)

<a id="nestedatt--idp_profiles--overwrites--matching"></a>
### Nested Schema for `idp_profiles.overwrites.matching`

Optional:

- `attack_name` (List of String)
- `dst_subnet` (List of String)
- `severity` (List of String)




<a id="nestedatt--ip_configs"></a>
### Nested Schema for `ip_configs`

Optional:

- `ip` (String)
- `netmask` (String)
- `secondary_ips` (List of String) Optional list of secondary IPs in CIDR format
- `type` (String) enum: `dhcp`, `static`


<a id="nestedatt--networks"></a>
### Nested Schema for `networks`

Required:

- `name` (String)
- `subnet` (String)

Optional:

- `disallow_mist_services` (Boolean) Whether to disallow Mist Devices in the network
- `gateway` (String)
- `gateway6` (String)
- `internal_access` (Attributes) (see [below for nested schema](#nestedatt--networks--internal_access))
- `internet_access` (Attributes) Whether this network has direct internet access (see [below for nested schema](#nestedatt--networks--internet_access))
- `isolation` (Boolean) Whether to allow clients in the network to talk to each other
- `multicast` (Attributes) Whether to enable multicast support (only PIM-sparse mode is supported) (see [below for nested schema](#nestedatt--networks--multicast))
- `routed_for_networks` (List of String) For a Network (usually LAN), it can be routable to other networks (e.g. OSPF)
- `subnet6` (String)
- `tenants` (Attributes Map) Property key must be the user/tenant name (i.e. "printer-1") or a Variable (i.e. "{{myvar}}") (see [below for nested schema](#nestedatt--networks--tenants))
- `vlan_id` (String)
- `vpn_access` (Attributes Map) Property key is the VPN name. Whether this network can be accessed from vpn (see [below for nested schema](#nestedatt--networks--vpn_access))

<a id="nestedatt--networks--internal_access"></a>
### Nested Schema for `networks.internal_access`

Optional:

- `enabled` (Boolean)


<a id="nestedatt--networks--internet_access"></a>
### Nested Schema for `networks.internet_access`

Optional:

- `create_simple_service_policy` (Boolean)
- `destination_nat` (Attributes Map) Property key can be an External IP (i.e. "63.16.0.3"), an External IP:Port (i.e. "63.16.0.3:443"), an External Port (i.e. ":443"), an External CIDR (i.e. "63.16.0.0/30"), an External CIDR:Port (i.e. "63.16.0.0/30:443") or a Variable (i.e. "{{myvar}}"). At least one of the `internal_ip` or `port` must be defined (see [below for nested schema](#nestedatt--networks--internet_access--destination_nat))
- `enabled` (Boolean)
- `restricted` (Boolean) By default, all access is allowed, to only allow certain traffic, make `restricted`=`true` and define service_policies
- `static_nat` (Attributes Map) Property key may be an External IP Address (i.e. "63.16.0.3"), a CIDR (i.e. "63.16.0.12/20") or a Variable (i.e. "{{myvar}}") (see [below for nested schema](#nestedatt--networks--internet_access--static_nat))

<a id="nestedatt--networks--internet_access--destination_nat"></a>
### Nested Schema for `networks.internet_access.destination_nat`

Optional:

- `internal_ip` (String) The Destination NAT destination IP Address. Must be an IP (i.e. "192.168.70.30") or a Variable (i.e. "{{myvar}}")
- `name` (String)
- `port` (String) The Destination NAT destination IP Address. Must be a Port (i.e. "443") or a Variable (i.e. "{{myvar}}")
- `wan_name` (String) SRX Only. If not set, we configure the nat policies against all WAN ports for simplicity


<a id="nestedatt--networks--internet_access--static_nat"></a>
### Nested Schema for `networks.internet_access.static_nat`

Required:

- `internal_ip` (String) The Static NAT destination IP Address. Must be an IP Address (i.e. "192.168.70.3") or a Variable (i.e. "{{myvar}}")
- `name` (String)

Optional:

- `wan_name` (String) SRX Only. If not set, we configure the nat policies against all WAN ports for simplicity. Can be a Variable (i.e. "{{myvar}}")



<a id="nestedatt--networks--multicast"></a>
### Nested Schema for `networks.multicast`

Optional:

- `disable_igmp` (Boolean) If the network will only be the source of the multicast traffic, IGMP can be disabled
- `enabled` (Boolean)
- `groups` (Attributes Map) Group address to RP (rendezvous point) mapping. Property Key is the CIDR (example "225.1.0.3/32") (see [below for nested schema](#nestedatt--networks--multicast--groups))

<a id="nestedatt--networks--multicast--groups"></a>
### Nested Schema for `networks.multicast.groups`

Optional:

- `rp_ip` (String) RP (rendezvous point) IP Address



<a id="nestedatt--networks--tenants"></a>
### Nested Schema for `networks.tenants`

Optional:

- `addresses` (List of String)


<a id="nestedatt--networks--vpn_access"></a>
### Nested Schema for `networks.vpn_access`

Optional:

- `advertised_subnet` (String) If `routed`==`true`, whether to advertise an aggregated subnet toward HUB this is useful when there are multiple networks on SPOKE's side
- `allow_ping` (Boolean) Whether to allow ping from vpn into this routed network
- `destination_nat` (Attributes Map) Property key can be an External IP (i.e. "63.16.0.3"), an External IP:Port (i.e. "63.16.0.3:443"), an External Port (i.e. ":443"), an External CIDR (i.e. "63.16.0.0/30"), an External CIDR:Port (i.e. "63.16.0.0/30:443") or a Variable (i.e. "{{myvar}}"). At least one of the `internal_ip` or `port` must be defined (see [below for nested schema](#nestedatt--networks--vpn_access--destination_nat))
- `nat_pool` (String) If `routed`==`false` (usually at Spoke), but some hosts needs to be reachable from Hub, a subnet is required to create and advertise the route to Hub
- `no_readvertise_to_lan_bgp` (Boolean) toward LAN-side BGP peers
- `no_readvertise_to_lan_ospf` (Boolean) toward LAN-side OSPF peers
- `no_readvertise_to_overlay` (Boolean) toward overlay, how HUB should deal with routes it received from Spokes
- `other_vrfs` (List of String) By default, the routes are only readvertised toward the same vrf on spoke. To allow it to be leaked to other vrfs
- `routed` (Boolean) Whether this network is routable
- `source_nat` (Attributes) If `routed`==`false` (usually at Spoke), but some hosts needs to be reachable from Hub (see [below for nested schema](#nestedatt--networks--vpn_access--source_nat))
- `static_nat` (Attributes Map) Property key may be an External IP Address (i.e. "63.16.0.3"), a CIDR (i.e. "63.16.0.12/20") or a Variable (i.e. "{{myvar}}") (see [below for nested schema](#nestedatt--networks--vpn_access--static_nat))
- `summarized_subnet` (String) toward overlay, how HUB should deal with routes it received from Spokes
- `summarized_subnet_to_lan_bgp` (String) toward LAN-side BGP peers
- `summarized_subnet_to_lan_ospf` (String) toward LAN-side OSPF peers

<a id="nestedatt--networks--vpn_access--destination_nat"></a>
### Nested Schema for `networks.vpn_access.destination_nat`

Optional:

- `internal_ip` (String) The Destination NAT destination IP Address. Must be an IP (i.e. "192.168.70.30") or a Variable (i.e. "{{myvar}}")
- `name` (String)
- `port` (String)


<a id="nestedatt--networks--vpn_access--source_nat"></a>
### Nested Schema for `networks.vpn_access.source_nat`

Optional:

- `external_ip` (String)


<a id="nestedatt--networks--vpn_access--static_nat"></a>
### Nested Schema for `networks.vpn_access.static_nat`

Required:

- `internal_ip` (String) The Static NAT destination IP Address. Must be an IP Address (i.e. "192.168.70.3") or a Variable (i.e. "{{myvar}}")
- `name` (String)




<a id="nestedatt--oob_ip_config"></a>
### Nested Schema for `oob_ip_config`

Optional:

- `gateway` (String) If `type`==`static`
- `ip` (String) If `type`==`static`
- `netmask` (String) If `type`==`static`
- `node1` (Attributes) For HA Cluster, node1 can have different IP Config (see [below for nested schema](#nestedatt--oob_ip_config--node1))
- `type` (String) enum: `dhcp`, `static`
- `use_mgmt_vrf` (Boolean) If supported on the platform. If enabled, DNS will be using this routing-instance, too
- `use_mgmt_vrf_for_host_out` (Boolean) For host-out traffic (NTP/TACPLUS/RADIUS/SYSLOG/SNMP), if alternative source network/ip is desired
- `vlan_id` (String)

<a id="nestedatt--oob_ip_config--node1"></a>
### Nested Schema for `oob_ip_config.node1`

Optional:

- `gateway` (String) If `type`==`static`
- `ip` (String)
- `netmask` (String) Used only if `subnet` is not specified in `networks`
- `type` (String) enum: `dhcp`, `static`
- `use_mgmt_vrf` (Boolean) If supported on the platform. If enabled, DNS will be using this routing-instance, too
- `use_mgmt_vrf_for_host_out` (Boolean) Whether to use `mgmt_junos` for host-out traffic (NTP/TACPLUS/RADIUS/SYSLOG/SNMP), if alternative source network/ip is desired
- `vlan_id` (String)



<a id="nestedatt--path_preferences"></a>
### Nested Schema for `path_preferences`

Optional:

- `paths` (Attributes List) (see [below for nested schema](#nestedatt--path_preferences--paths))
- `strategy` (String) enum: `ecmp`, `ordered`, `weighted`

<a id="nestedatt--path_preferences--paths"></a>
### Nested Schema for `path_preferences.paths`

Optional:

- `cost` (Number)
- `disabled` (Boolean) For SSR Only. `true`, if this specific path is undesired
- `gateway_ip` (String) Only if `type`==`local`, if a different gateway is desired
- `internet_access` (Boolean) Only if `type`==`vpn`, if this vpn path can be used for internet
- `name` (String) Required when 
  * `type`==`vpn`: the name of the VPN Path to use 
  * `type`==`wan`: the name of the WAN interface to use
- `networks` (List of String) Required when `type`==`local`
- `target_ips` (List of String) If `type`==`local`, if destination IP is to be replaced
- `type` (String) enum: `local`, `tunnel`, `vpn`, `wan`
- `wan_name` (String) Optional if `type`==`vpn`



<a id="nestedatt--port_config"></a>
### Nested Schema for `port_config`

Required:

- `usage` (String) port usage name. enum: `ha_control`, `ha_data`, `lan`, `wan`

Optional:

- `ae_disable_lacp` (Boolean) If `aggregated`==`true`. To disable LCP support for the AE interface
- `ae_idx` (String) If `aggregated`==`true`. Users could force to use the designated AE name (must be an integer between 0 and 127)
- `ae_lacp_force_up` (Boolean) For SRX Only, if `aggregated`==`true`.Sets the state of the interface as UP when the peer has limited LACP capability. Use case: When a device connected to this AE port is ZTPing for the first time, it will not have LACP configured on the other end. **Note:** Turning this on will enable force-up on one of the interfaces in the bundle only
- `aggregated` (Boolean)
- `critical` (Boolean) To generate port up/down alarm, set it to true
- `description` (String) Interface Description. Can be a variable (i.e. "{{myvar}}")
- `disable_autoneg` (Boolean)
- `disabled` (Boolean) Port admin up (true) / down (false)
- `dsl_type` (String) if `wan_type`==`dsl`. enum: `adsl`, `vdsl`
- `dsl_vci` (Number) If `wan_type`==`dsl`, 16 bit int
- `dsl_vpi` (Number) If `wan_type`==`dsl`, 8 bit int
- `duplex` (String) enum: `auto`, `full`, `half`
- `ip_config` (Attributes) Junos IP Config (see [below for nested schema](#nestedatt--port_config--ip_config))
- `lte_apn` (String) If `wan_type`==`lte`
- `lte_auth` (String) if `wan_type`==`lte`. enum: `chap`, `none`, `pap`
- `lte_backup` (Boolean)
- `lte_password` (String, Sensitive) If `wan_type`==`lte`
- `lte_username` (String) If `wan_type`==`lte`
- `mtu` (Number)
- `name` (String) Name that we'll use to derive config
- `networks` (List of String) if `usage`==`lan`, name of the `mist_org_network` resource
- `outer_vlan_id` (Number) For Q-in-Q
- `poe_disabled` (Boolean)
- `port_network` (String) Only for SRX and if `usage`==`lan`, the name of the Network to be used as the Untagged VLAN
- `preserve_dscp` (Boolean) Whether to preserve dscp when sending traffic over VPN (SSR-only)
- `redundant` (Boolean) If HA mode
- `redundant_group` (Number) If HA mode, SRX Only - support redundancy-group. 1-128 for physical SRX, 1-64 for virtual SRX
- `reth_idx` (String) For SRX only and if HA Mode
- `reth_node` (String) If HA mode
- `reth_nodes` (List of String) SSR only - supporting vlan-based redundancy (matching the size of `networks`)
- `speed` (String)
- `ssr_no_virtual_mac` (Boolean) When SSR is running as VM, this is required on certain hosting platforms
- `svr_port_range` (String) For SSR only
- `traffic_shaping` (Attributes) (see [below for nested schema](#nestedatt--port_config--traffic_shaping))
- `vlan_id` (String)
- `vpn_paths` (Attributes Map) Property key is the VPN name (see [below for nested schema](#nestedatt--port_config--vpn_paths))
- `wan_arp_policer` (String) Only when `wan_type`==`broadband`. enum: `default`, `max`, `recommended`
- `wan_ext_ip` (String) Only if `usage`==`wan`, optional. If spoke should reach this port by a different IP
- `wan_extra_routes` (Attributes Map) Only if `usage`==`wan`. Property Key is the destination CIDR (e.g. "100.100.100.0/24") (see [below for nested schema](#nestedatt--port_config--wan_extra_routes))
- `wan_networks` (List of String) Only if `usage`==`wan`. If some networks are connected to this WAN port, it can be added here so policies can be defined
- `wan_probe_override` (Attributes) Only if `usage`==`wan` (see [below for nested schema](#nestedatt--port_config--wan_probe_override))
- `wan_source_nat` (Attributes) Only if `usage`==`wan`, optional. By default, source-NAT is performed on all WAN Ports using the interface-ip (see [below for nested schema](#nestedatt--port_config--wan_source_nat))
- `wan_type` (String) Only if `usage`==`wan`. enum: `broadband`, `dsl`, `lte`

<a id="nestedatt--port_config--ip_config"></a>
### Nested Schema for `port_config.ip_config`

Optional:

- `dns` (List of String) Except for out-of_band interface (vme/em0/fxp0)
- `dns_suffix` (List of String) Except for out-of_band interface (vme/em0/fxp0)
- `gateway` (String) Except for out-of_band interface (vme/em0/fxp0). Interface Default Gateway IP Address (i.e. "192.168.1.1") or a Variable (i.e. "{{myvar}}")
- `ip` (String) Interface IP Address (i.e. "192.168.1.8") or a Variable (i.e. "{{myvar}}")
- `netmask` (String) Used only if `subnet` is not specified in `networks`. Interface Netmask (i.e. "/24") or a Variable (i.e. "{{myvar}}")
- `network` (String) Optional, the network to be used for mgmt
- `poser_password` (String, Sensitive) If `type`==`pppoe`
- `pppoe_auth` (String) if `type`==`pppoe`. enum: `chap`, `none`, `pap`
- `pppoe_username` (String) If `type`==`pppoe`
- `type` (String) enum: `dhcp`, `pppoe`, `static`


<a id="nestedatt--port_config--traffic_shaping"></a>
### Nested Schema for `port_config.traffic_shaping`

Optional:

- `class_percentages` (List of Number) percentages for different class of traffic: high / medium / low / best-effort. Sum must be equal to 100
- `enabled` (Boolean)
- `max_tx_kbps` (Number) Interface Transmit Cap in kbps


<a id="nestedatt--port_config--vpn_paths"></a>
### Nested Schema for `port_config.vpn_paths`

Optional:

- `bfd_profile` (String) Only if the VPN `type`==`hub_spoke`. enum: `broadband`, `lte`
- `bfd_use_tunnel_mode` (Boolean) Only if the VPN `type`==`hub_spoke`. Whether to use tunnel mode. SSR only
- `preference` (Number) Only if the VPN `type`==`hub_spoke`. For a given VPN, when `path_selection.strategy`==`simple`, the preference for a path (lower is preferred)
- `role` (String) If the VPN `type`==`hub_spoke`, enum: `hub`, `spoke`. If the VPN `type`==`mesh`, enum: `mesh`
- `traffic_shaping` (Attributes) (see [below for nested schema](#nestedatt--port_config--vpn_paths--traffic_shaping))

<a id="nestedatt--port_config--vpn_paths--traffic_shaping"></a>
### Nested Schema for `port_config.vpn_paths.traffic_shaping`

Optional:

- `class_percentages` (List of Number) percentages for different class of traffic: high / medium / low / best-effort. Sum must be equal to 100
- `enabled` (Boolean)
- `max_tx_kbps` (Number) Interface Transmit Cap in kbps



<a id="nestedatt--port_config--wan_extra_routes"></a>
### Nested Schema for `port_config.wan_extra_routes`

Optional:

- `via` (String)


<a id="nestedatt--port_config--wan_probe_override"></a>
### Nested Schema for `port_config.wan_probe_override`

Optional:

- `ips` (List of String)
- `probe_profile` (String) enum: `broadband`, `lte`


<a id="nestedatt--port_config--wan_source_nat"></a>
### Nested Schema for `port_config.wan_source_nat`

Optional:

- `disabled` (Boolean) Or to disable the source-nat
- `nat_pool` (String) If alternative nat_pool is desired



<a id="nestedatt--routing_policies"></a>
### Nested Schema for `routing_policies`

Optional:

- `terms` (Attributes List) zero or more criteria/filter can be specified to match the term, all criteria have to be met (see [below for nested schema](#nestedatt--routing_policies--terms))

<a id="nestedatt--routing_policies--terms"></a>
### Nested Schema for `routing_policies.terms`

Optional:

- `action` (Attributes) When used as import policy (see [below for nested schema](#nestedatt--routing_policies--terms--action))
- `matching` (Attributes) zero or more criteria/filter can be specified to match the term, all criteria have to be met (see [below for nested schema](#nestedatt--routing_policies--terms--matching))

<a id="nestedatt--routing_policies--terms--action"></a>
### Nested Schema for `routing_policies.terms.action`

Optional:

- `accept` (Boolean)
- `add_community` (List of String)
- `add_target_vrfs` (List of String) For SSR, hub decides how VRF routes are leaked on spoke
- `community` (List of String) When used as export policy, optional
- `exclude_as_path` (List of String) When used as export policy, optional. To exclude certain AS
- `exclude_community` (List of String)
- `export_communities` (List of String) When used as export policy, optional
- `local_preference` (String) Optional, for an import policy, local_preference can be changed
- `prepend_as_path` (List of String) When used as export policy, optional. By default, the local AS will be prepended, to change it


<a id="nestedatt--routing_policies--terms--matching"></a>
### Nested Schema for `routing_policies.terms.matching`

Optional:

- `as_path` (List of String) takes regular expression
- `community` (List of String)
- `network` (List of String)
- `prefix` (List of String) zero or more criteria/filter can be specified to match the term, all criteria have to be met
- `protocol` (List of String) `direct`, `bgp`, `osp`, `static`, `aggregate`...
- `route_exists` (Attributes) (see [below for nested schema](#nestedatt--routing_policies--terms--matching--route_exists))
- `vpn_neighbor_mac` (List of String) overlay-facing criteria (used for bgp_config where via=vpn)
- `vpn_path` (List of String) overlay-facing criteria (used for bgp_config where via=vpn). ordered-
- `vpn_path_sla` (Attributes) (see [below for nested schema](#nestedatt--routing_policies--terms--matching--vpn_path_sla))

<a id="nestedatt--routing_policies--terms--matching--route_exists"></a>
### Nested Schema for `routing_policies.terms.matching.route_exists`

Optional:

- `route` (String)
- `vrf_name` (String) Name of the vrf instance, it can also be the name of the VPN or wan if they


<a id="nestedatt--routing_policies--terms--matching--vpn_path_sla"></a>
### Nested Schema for `routing_policies.terms.matching.vpn_path_sla`

Optional:

- `max_jitter` (Number)
- `max_latency` (Number)
- `max_loss` (Number)





<a id="nestedatt--service_policies"></a>
### Nested Schema for `service_policies`

Optional:

- `action` (String) Required when `servicepolicy_id` is not defined, optional otherwise (override the servicepolicy action). enum: `allow`, `deny`
- `antivirus` (Attributes) For SRX-only (see [below for nested schema](#nestedatt--service_policies--antivirus))
- `appqoe` (Attributes) For SRX Only (see [below for nested schema](#nestedatt--service_policies--appqoe))
- `ewf` (Attributes List) (see [below for nested schema](#nestedatt--service_policies--ewf))
- `idp` (Attributes) (see [below for nested schema](#nestedatt--service_policies--idp))
- `local_routing` (Boolean) access within the same VRF
- `name` (String) Required when `servicepolicy_id` is not defined, optional otherwise (override the servicepolicy name)
- `path_preference` (String) By default, we derive all paths available and use them. Optionally, you can customize by using `path_preference`
- `servicepolicy_id` (String) Used to link servicepolicy defined at org level and overwrite some attributes
- `services` (List of String) Required when `servicepolicy_id` is not defined. List of Applications / Destinations
- `ssl_proxy` (Attributes) For SRX-only (see [below for nested schema](#nestedatt--service_policies--ssl_proxy))
- `tenants` (List of String) Required when `servicepolicy_id` is not defined. List of Networks / Users

<a id="nestedatt--service_policies--antivirus"></a>
### Nested Schema for `service_policies.antivirus`

Optional:

- `avprofile_id` (String) org-level AV Profile can be used, this takes precedence over 'profile'
- `enabled` (Boolean)
- `profile` (String) Default / noftp / httponly / or keys from av_profiles


<a id="nestedatt--service_policies--appqoe"></a>
### Nested Schema for `service_policies.appqoe`

Optional:

- `enabled` (Boolean)


<a id="nestedatt--service_policies--ewf"></a>
### Nested Schema for `service_policies.ewf`

Optional:

- `alert_only` (Boolean)
- `block_message` (String)
- `enabled` (Boolean)
- `profile` (String) enum: `critical`, `standard`, `strict`


<a id="nestedatt--service_policies--idp"></a>
### Nested Schema for `service_policies.idp`

Optional:

- `alert_only` (Boolean)
- `enabled` (Boolean)
- `idpprofile_id` (String) org_level IDP Profile can be used, this takes precedence over `profile`
- `profile` (String) enum: `Custom`, `strict` (default), `standard` or keys from idp_profiles


<a id="nestedatt--service_policies--ssl_proxy"></a>
### Nested Schema for `service_policies.ssl_proxy`

Optional:

- `ciphers_category` (String) enum: `medium`, `strong`, `weak`
- `enabled` (Boolean)



<a id="nestedatt--tunnel_configs"></a>
### Nested Schema for `tunnel_configs`

Optional:

- `auto_provision` (Attributes) (see [below for nested schema](#nestedatt--tunnel_configs--auto_provision))
- `ike_lifetime` (Number) Only if `provider`==`custom-ipsec`. Must be between 180 and 86400
- `ike_mode` (String) Only if `provider`==`custom-ipsec`. enum: `aggressive`, `main`
- `ike_proposals` (Attributes List) If `provider`==`custom-ipsec` (see [below for nested schema](#nestedatt--tunnel_configs--ike_proposals))
- `ipsec_lifetime` (Number) Only if `provider`==`custom-ipsec`. Must be between 180 and 86400
- `ipsec_proposals` (Attributes List) Only if  `provider`==`custom-ipsec` (see [below for nested schema](#nestedatt--tunnel_configs--ipsec_proposals))
- `local_id` (String) Required if `provider`==`zscaler-ipsec`, `provider`==`jse-ipsec` or `provider`==`custom-ipsec`
- `mode` (String) Required if `provider`==`zscaler-gre`, `provider`==`jse-ipsec`. enum: `active-active`, `active-standby`
- `networks` (List of String) If `provider`==`custom-ipsec`, networks reachable via this tunnel
- `primary` (Attributes) Only if `provider`==`zscaler-ipsec`, `provider`==`jse-ipsec` or `provider`==`custom-ipsec` (see [below for nested schema](#nestedatt--tunnel_configs--primary))
- `probe` (Attributes) Only if `provider`==`custom-ipsec` (see [below for nested schema](#nestedatt--tunnel_configs--probe))
- `protocol` (String) Only if `provider`==`custom-ipsec`. enum: `gre`, `ipsec`
- `provider` (String) Only if `auto_provision.enabled`==`false`. enum: `custom-ipsec`, `custom-gre`, `jse-ipsec`, `zscaler-gre`, `zscaler-ipsec`
- `psk` (String, Sensitive) Required if `provider`==`zscaler-ipsec`, `provider`==`jse-ipsec` or `provider`==`custom-ipsec`
- `secondary` (Attributes) Only if `provider`==`zscaler-ipsec`, `provider`==`jse-ipsec` or `provider`==`custom-ipsec` (see [below for nested schema](#nestedatt--tunnel_configs--secondary))
- `version` (String) Only if `provider`==`custom-gre` or `provider`==`custom-ipsec`. enum: `1`, `2`

<a id="nestedatt--tunnel_configs--auto_provision"></a>
### Nested Schema for `tunnel_configs.auto_provision`

Required:

- `provider` (String) enum: `jse-ipsec`, `zscaler-ipsec`

Optional:

- `enable` (Boolean)
- `latlng` (Attributes) API override for POP selection (see [below for nested schema](#nestedatt--tunnel_configs--auto_provision--latlng))
- `primary` (Attributes) (see [below for nested schema](#nestedatt--tunnel_configs--auto_provision--primary))
- `region` (String) API override for POP selection
- `secondary` (Attributes) (see [below for nested schema](#nestedatt--tunnel_configs--auto_provision--secondary))

<a id="nestedatt--tunnel_configs--auto_provision--latlng"></a>
### Nested Schema for `tunnel_configs.auto_provision.latlng`

Required:

- `lat` (Number)
- `lng` (Number)


<a id="nestedatt--tunnel_configs--auto_provision--primary"></a>
### Nested Schema for `tunnel_configs.auto_provision.primary`

Optional:

- `probe_ips` (List of String)
- `wan_names` (List of String) Optional, only needed if `vars_only`==`false`


<a id="nestedatt--tunnel_configs--auto_provision--secondary"></a>
### Nested Schema for `tunnel_configs.auto_provision.secondary`

Optional:

- `probe_ips` (List of String)
- `wan_names` (List of String) Optional, only needed if `vars_only`==`false`



<a id="nestedatt--tunnel_configs--ike_proposals"></a>
### Nested Schema for `tunnel_configs.ike_proposals`

Optional:

- `auth_algo` (String) enum: `md5`, `sha1`, `sha2`
- `dh_group` (String) enum:
  * 1
  * 2 (1024-bit)
  * 5
  * 14 (default, 2048-bit)
  * 15 (3072-bit)
  * 16 (4096-bit)
  * 19 (256-bit ECP)
  * 20 (384-bit ECP)
  * 21 (521-bit ECP)
  * 24 (2048-bit ECP)
- `enc_algo` (String) enum: `3des`, `aes128`, `aes256`, `aes_gcm128`, `aes_gcm256`


<a id="nestedatt--tunnel_configs--ipsec_proposals"></a>
### Nested Schema for `tunnel_configs.ipsec_proposals`

Optional:

- `auth_algo` (String) enum: `md5`, `sha1`, `sha2`
- `dh_group` (String) Only if `provider`==`custom-ipsec`. enum:
  * 1
  * 2 (1024-bit)
  * 5
  * 14 (default, 2048-bit)
  * 15 (3072-bit)
  * 16 (4096-bit)
  * 19 (256-bit ECP)
  * 20 (384-bit ECP)
  * 21 (521-bit ECP)
  * 24 (2048-bit ECP)
- `enc_algo` (String) enum: `3des`, `aes128`, `aes256`, `aes_gcm128`, `aes_gcm256`


<a id="nestedatt--tunnel_configs--primary"></a>
### Nested Schema for `tunnel_configs.primary`

Required:

- `hosts` (List of String)
- `wan_names` (List of String)

Optional:

- `internal_ips` (List of String) Only if `provider`==`zscaler-gre`, `provider`==`jse-ipsec`, `provider`==`custom-ipsec` or `provider`==`custom-gre`
- `probe_ips` (List of String)
- `remote_ids` (List of String) Only if  `provider`==`jse-ipsec` or `provider`==`custom-ipsec`


<a id="nestedatt--tunnel_configs--probe"></a>
### Nested Schema for `tunnel_configs.probe`

Optional:

- `interval` (Number) How often to trigger the probe
- `threshold` (Number) Number of consecutive misses before declaring the tunnel down
- `timeout` (Number) Time within which to complete the connectivity check
- `type` (String) enum: `http`, `icmp`


<a id="nestedatt--tunnel_configs--secondary"></a>
### Nested Schema for `tunnel_configs.secondary`

Required:

- `hosts` (List of String)
- `wan_names` (List of String)

Optional:

- `internal_ips` (List of String) Only if `provider`==`zscaler-gre`, `provider`==`jse-ipsec`, `provider`==`custom-ipsec` or `provider`==`custom-gre`
- `probe_ips` (List of String)
- `remote_ids` (List of String) Only if  `provider`==`jse-ipsec` or `provider`==`custom-ipsec`



<a id="nestedatt--tunnel_provider_options"></a>
### Nested Schema for `tunnel_provider_options`

Optional:

- `jse` (Attributes) For jse-ipsec, this allows provisioning of adequate resource on JSE. Make sure adequate licenses are added (see [below for nested schema](#nestedatt--tunnel_provider_options--jse))
- `zscaler` (Attributes) For zscaler-ipsec and zscaler-gre (see [below for nested schema](#nestedatt--tunnel_provider_options--zscaler))

<a id="nestedatt--tunnel_provider_options--jse"></a>
### Nested Schema for `tunnel_provider_options.jse`

Optional:

- `num_users` (Number)
- `org_name` (String) JSE Organization name


<a id="nestedatt--tunnel_provider_options--zscaler"></a>
### Nested Schema for `tunnel_provider_options.zscaler`

Optional:

- `aup_block_internet_until_accepted` (Boolean)
- `aup_enabled` (Boolean) Can only be `true` when `auth_required`==`false`, display Acceptable Use Policy (AUP)
- `aup_force_ssl_inspection` (Boolean) Proxy HTTPs traffic, requiring Zscaler cert to be installed in browser
- `aup_timeout_in_days` (Number) Required if `aup_enabled`==`true`. Days before AUP is requested again
- `auth_required` (Boolean) Enable this option to enforce user authentication
- `caution_enabled` (Boolean) Can only be `true` when `auth_required`==`false`, display caution notification for non-authenticated users
- `dn_bandwidth` (Number) Download bandwidth cap of the link, in Mbps. Disabled if not set
- `idle_time_in_minutes` (Number) Required if `surrogate_IP`==`true`, idle Time to Disassociation
- `ofw_enabled` (Boolean) If `true`, enable the firewall control option
- `sub_locations` (Attributes List) `sub-locations` can be used for specific uses cases to define different configuration based on the user network (see [below for nested schema](#nestedatt--tunnel_provider_options--zscaler--sub_locations))
- `surrogate_ip` (Boolean) Can only be `true` when `auth_required`==`true`. Map a user to a private IP address so it applies the user's policies, instead of the location's policies
- `surrogate_ip_enforced_for_known_browsers` (Boolean) Can only be `true` when `surrogate_IP`==`true`, enforce surrogate IP for known browsers
- `surrogate_refresh_time_in_minutes` (Number) Required if `surrogate_IP_enforced_for_known_browsers`==`true`, must be lower or equal than `idle_time_in_minutes`, refresh Time for re-validation of Surrogacy
- `up_bandwidth` (Number) Download bandwidth cap of the link, in Mbps. Disabled if not set
- `xff_forward_enabled` (Boolean) Location uses proxy chaining to forward traffic

<a id="nestedatt--tunnel_provider_options--zscaler--sub_locations"></a>
### Nested Schema for `tunnel_provider_options.zscaler.sub_locations`

Optional:

- `aup_block_internet_until_accepted` (Boolean)
- `aup_enabled` (Boolean) Can only be `true` when `auth_required`==`false`, display Acceptable Use Policy (AUP)
- `aup_force_ssl_inspection` (Boolean) Proxy HTTPs traffic, requiring Zscaler cert to be installed in browser
- `aup_timeout_in_days` (Number) Required if `aup_enabled`==`true`. Days before AUP is requested again
- `auth_required` (Boolean) Enable this option to authenticate users
- `caution_enabled` (Boolean) Can only be `true` when `auth_required`==`false`, display caution notification for non-authenticated users
- `dn_bandwidth` (Number) Download bandwidth cap of the link, in Mbps. Disabled if not set
- `idle_time_in_minutes` (Number) Required if `surrogate_IP`==`true`, idle Time to Disassociation
- `name` (String) Network name
- `ofw_enabled` (Boolean) If `true`, enable the firewall control option
- `surrogate_ip` (Boolean) Can only be `true` when `auth_required`==`true`. Map a user to a private IP address so it applies the user's policies, instead of the location's policies
- `surrogate_ip_enforced_for_known_browsers` (Boolean) Can only be `true` when `surrogate_IP`==`true`, enforce surrogate IP for known browsers
- `surrogate_refresh_time_in_minutes` (Number) Required if `surrogate_IP_enforced_for_known_browsers`==`true`, must be lower or equal than `idle_time_in_minutes`, refresh Time for re-validation of Surrogacy
- `up_bandwidth` (Number) Download bandwidth cap of the link, in Mbps. Disabled if not set




<a id="nestedatt--vrf_config"></a>
### Nested Schema for `vrf_config`

Optional:

- `enabled` (Boolean) Whether to enable VRF (when supported on the device)


<a id="nestedatt--vrf_instances"></a>
### Nested Schema for `vrf_instances`

Optional:

- `networks` (List of String)



## Import
Using `terraform import`, import `mist_org_deviceprofile_gateway` with:
```shell
# Device Profile can be imported by specifying the org_id and the deviceprofile_id
terraform import mist_org_deviceprofile_gateway.deviceprofile_one 17b46405-3a6d-4715-8bb4-6bb6d06f316a.d3c42998-9012-4859-9743-6b9bee475309
```