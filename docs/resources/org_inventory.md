---
page_title: "mist_org_inventory Resource - terraform-provider-mist"
subcategory: "Devices"
description: |-
  This resource manages the Org Inventory.
  It can be used to claim, unclaim, assign, unassign, reassign devices.
  ->Removing a device from the devices list or inventory map will NOT release it unless unclaim_when_destroyed is set to true
  !> The devices attribute (List) is deprecated and is replaced by the inventory attribute (Map) as it can generate "inconsistent result after apply" errors. If this happens, it is required to force a refresh of the state to synchronise the new list.The devices attribute will generate inconsistent result after apply when a device other than the last one is removed from the list or when a device is added somewhere other than the end of the list
---

# mist_org_inventory (Resource)

This resource manages the Org Inventory.

It can be used to claim, unclaim, assign, unassign, reassign devices.

->Removing a device from the `devices` list or `inventory` map will NOT release it unless `unclaim_when_destroyed` is set to `true`

!> The `devices` attribute (List) is deprecated and is replaced by the `inventory` attribute (Map) as it can generate "inconsistent result after apply" errors. If this happens, it is required to force a refresh of the state to synchronise the new list.  
The `devices` attribute will generate inconsistent result after apply when a device other than the last one is removed from the list or when a device is added somewhere other than the end of the list


## Example Usage

```terraform
resource "mist_org_inventory" "inventory" {
  org_id = mist_org.terraform_test.id
  inventory = {
    # Device Claim Code
    "CPKL2EXXXXXXXXX" = {}
    "G87JHBFXXXXXXXX" = {
      site_id = mist_site.terraform_site.id
      unclaim_when_destroyed = true
    }
    # MAC Address
    "2c2131000000" = {
      site_id                = mist_site.terraform_site.id
      unclaim_when_destroyed = true
    }
    "2c2131000001" = {
      unclaim_when_destroyed = false
    }    
  }
}

# deprecated
resource "mist_org_inventory" "inventory" {
  org_id = mist_org.terraform_test.id
  devices = [
    # Device Claim Code
    {
      claim_code = "CPKL2EXXXXXXXXX"
      site_id = mist_site.terraform_site.id
      unclaim_when_destroyed = true
    },
    # MAC Address
    {
      mac = "2c2131000000"
      site_id                = mist_site.terraform_site.id
      unclaim_when_destroyed = true
    }   
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `org_id` (String)

### Optional

- `devices` (Attributes List, Deprecated) **DEPRECATED** The `devices` attribute has been deprecated in version v0.2.0 of the Juniper-Mist Provider. It has been replaced with the `inventory` map and may be removed in future versions. Please update your configurations to use the `inventory` attribute. List of devices to manage. Exactly one of `claim_code` or `mac` field must be set (see [below for nested schema](#nestedatt--devices))
- `inventory` (Attributes Map) Property key can be the device Claim Code or the device MAC Address:
  * Claim Code: used to claim the device to the Mist Organization and manage it. Format is `[0-9A-Z]{15}` (e.g `01234ABCDE56789`)
  * MAC Address: used to manage a device already in the Mist Organization (claimed or adopted devices). Format is `[0-9a-f]{12}` (e.g `5684dae9ac8b`)

    > (see [below for nested schema](#nestedatt--inventory))

<a id="nestedatt--devices"></a>
### Nested Schema for `devices`

Optional:

- `claim_code` (String) used to claim the device to the Mist Organization and manage it. Format is `[0-9A-Z]{15}` (e.g `01234ABCDE56789`)
- `mac` (String) used to managed a device already in the Mist Organization (claimed or adopted devices). Format is `[0-9a-f]{12}` (e.g `5684dae9ac8b`)
- `site_id` (String) Site ID. Used to assign device to a Site
- `unclaim_when_destroyed` (Boolean) Unclaim the device from the Mist Organization when removed from the provider inventory. Default is `false`

Read-Only:

- `deviceprofile_id` (String) deviceprofile id if assigned, null if not assigned
- `hostname` (String) hostname reported by the device
- `id` (String) device id
- `model` (String) device model
- `org_id` (String)
- `serial` (String) device serial
- `type` (String) enum: `ap`, `gateway`, `switch`
- `vc_mac` (String) if `type`==`switch` and device part of a Virtual Chassis, MAC Address of the Virtual Chassis. if `type`==`gateway` and device part of a Clust, MAC Address of the Cluster


<a id="nestedatt--inventory"></a>
### Nested Schema for `inventory`

Optional:

- `site_id` (String) Site ID. Used to assign device to a Site
- `unclaim_when_destroyed` (Boolean) Unclaim the device from the Mist Organization when removed from the provider inventory. Default is `false`

Read-Only:

- `claim_code` (String) device claim code
- `deviceprofile_id` (String) deviceprofile id if assigned, null if not assigned
- `hostname` (String) hostname reported by the device
- `id` (String) device id
- `mac` (String) device MAC address
- `model` (String) device model
- `org_id` (String)
- `serial` (String) device serial
- `type` (String) enum: `ap`, `gateway`, `switch`
- `vc_mac` (String) if `type`==`switch` and device part of a Virtual Chassis, MAC Address of the Virtual Chassis. if `type`==`gateway` and device part of a Clust, MAC Address of the Cluster



## Import
Using `terraform import`, import `mist_org_inventory` with:
```shell
# Org Inventory can be imported by specifying the org_id
terraform import mist_org_inventory.inventory_one 17b46405-3a6d-4715-8bb4-6bb6d06f316a
```