---
page_title: "mist_org_mxedge_inventory Resource - terraform-provider-mist"
subcategory: "Devices"
description: |-
  This resource manages the Org MxEdge Inventory.
  It can be used to claim, assign, unassign, and reassign MxEdges.
  ->Removing an MxEdge from the mxedges map will release it from the organization
---

# mist_org_mxedge_inventory (Resource)

This resource manages the Org MxEdge Inventory.

It can be used to claim, assign, unassign, and reassign MxEdges.

->Removing an MxEdge from the `mxedges` map will release it from the organization. When the resource is destroyed, all managed MxEdges are automatically unassigned from sites and deleted from the organization.

## Example Usage

### Claim MxEdge with Claim Code

```terraform
resource "mist_org_mxedge_inventory" "inventory" {
  org_id = mist_org.terraform_test.id
  mxedges = {
    # MxEdge Claim Code
    # Used to claim and manage MxEdges
    "EKF4DSY7TZMDH9P" = {}
  }
}
```

### Claim and Assign MxEdge to Site

```terraform
resource "mist_site" "site_one" {
  org_id  = mist_org.terraform_test.id
  name    = "Site One"
  address = "123 Main Street"
}

resource "mist_org_mxedge_inventory" "inventory" {
  org_id = mist_org.terraform_test.id
  mxedges = {
    # Claim and assign to site in one operation
    "EKF4DSY7TZMDH9P" = {
      site_id = mist_site.site_one.id
    }
  }
}
```

### Manage Existing MxEdge by ID

```terraform
# Manage an already claimed MxEdge using its ID
resource "mist_org_mxedge_inventory" "inventory" {
  org_id = mist_org.terraform_test.id
  mxedges = {
    # MxEdge ID (UUID format)
    # Used to manage MxEdges already claimed in the organization
    "00000000-0000-0000-1000-d420b0f003cd" = {
      site_id = mist_site.site_one.id
    }
  }
}
```

### Unassign MxEdge from Site

```terraform
resource "mist_org_mxedge_inventory" "inventory" {
  org_id = mist_org.terraform_test.id
  mxedges = {
    # Set site_id to null or omit site_id to unassign from site
    "00000000-0000-0000-1000-d420b0f003cd" = {
      site_id = null
    }
  }
}
```

### Multiple MxEdges

```terraform
resource "mist_site" "site_one" {
  org_id  = mist_org.terraform_test.id
  name    = "Site One"
  address = "123 Main Street"
}

resource "mist_site" "site_two" {
  org_id  = mist_org.terraform_test.id
  name    = "Site Two"
  address = "456 Oak Avenue"
}

resource "mist_org_mxedge_inventory" "inventory" {
  org_id = mist_org.terraform_test.id
  mxedges = {
    # Claim new MxEdge
    "EKF4DSY7TZMDH9P" = {}
    
    # Claim and assign to site
    "ABC123XYZ456789" = {
      site_id = mist_site.site_one.id
    }
    
    # Manage existing MxEdge by ID
    "00000000-0000-0000-1000-d420b0f003cd" = {
      site_id = mist_site.site_two.id
    }
    
    # Unassigned MxEdge
    "00000000-0000-0000-1000-a1b2c3d4e5f6" = {}
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `org_id` (String) Organization ID

### Optional

- `mxedges` (Attributes Map) Property key can be the MxEdge Claim Code or the MxEdge ID:
  * Claim Code: used to claim the MxEdge to the Mist Organization and manage it. Format varies by device
  * MxEdge ID: used to manage an MxEdge already in the Mist Organization. Format is UUID (e.g `00000000-0000-0000-1000-d420b0f003cd`)

    > (see [below for nested schema](#nestedatt--mxedges))

### Read-Only

- `mac` (String) MAC address (computed)

<a id="nestedatt--mxedges"></a>
### Nested Schema for `mxedges`

Optional:

- `site_id` (String) Site ID. Used to assign MxEdge to a Site. Set to `null` to unassign from site.

Read-Only:

- `claim_code` (String) MxEdge claim code
- `for_site` (Boolean) Whether the MxEdge is assigned to a site
- `id` (String) MxEdge ID (UUID)
- `mac` (String) MxEdge MAC address
- `model` (String) MxEdge model
- `name` (String) MxEdge name
- `org_id` (String) Organization ID

## Behavior Notes

### Claiming MxEdges

When you add a new MxEdge using its claim code to the `mxedges` map:
1. The MxEdge is claimed to the organization
2. If `site_id` is specified, the MxEdge is automatically assigned to that site
3. Read-only attributes (id, mac, model, name, etc.) are populated from the API

### Managing Existing MxEdges

You can manage MxEdges that are already claimed in the organization by using their MxEdge ID (UUID) instead of the claim code:
- Use the MxEdge ID to reference existing devices
- Modify the `site_id` to reassign or unassign the MxEdge
- The MxEdge remains in the organization inventory

### Assignment Operations

- **Assign**: Set `site_id` to a valid site UUID
- **Reassign**: Change `site_id` to a different site UUID
- **Unassign**: Set `site_id` to `null` or remove it

### Removing MxEdges

When an MxEdge is removed from the `mxedges` map or when the resource is destroyed:
1. The MxEdge is automatically unassigned from any site
2. The MxEdge is deleted from the organization
3. The device is returned to an unclaimed state

### Important Notes

- Claim codes are case-sensitive
- Each MxEdge can only be assigned to one site at a time
- Removing an MxEdge from the map will delete it from the organization
- MxEdge IDs are in UUID format and can be found in the Mist UI or via the API (not case sensitive)

## Import

Using `terraform import`, import `mist_org_mxedge_inventory` with:

```shell
# Org MxEdge Inventory can be imported by specifying the org_id
terraform import mist_org_mxedge_inventory.inventory_one 17b46405-3a6d-4715-8bb4-6bb6d06f316a
```

After importing, all MxEdges in the organization will be visible in the state. You can then selectively manage specific MxEdges by adding them to your Terraform configuration.
